
var rdp_numposts = 7
  , rdp_snippet_length = 0
  , rdp_current = []
  , rdp_total_posts = 0
  , thumbnailurl = (rdp_current = new Array(rdp_numposts),
"https://4.bp.blogspot.com/-00O66C-eBQs/W0IcokXSnOI/AAAAAAAAL_k/g4KtDm7SkQsoe7_G0vZ_C_nU0Gf_-kyVQCLcBGAs/s6400/safe_image.png");
function totalposts(t) {
    rdp_total_posts = t.feed.openSearch$totalResults.$t
}

function get_random() {
    return 1 + Math.round(Math.random() * (rdp_total_posts - 1))
}
document.write('<script src="/feeds/posts/summary?alt=json-in-script&max-results=0&callback=totalposts"><\/script>');

function random_posts(s) {
    if (s.feed.entry)
        for (var t = 0; t < s.feed.entry.length; t++) {
            for (var a = s.feed.entry[t], e = 0; e < a.link.length; e++)
                if ("alternate" == a.link[e].rel) {
                    var r = a.link[e].href;
                    break
                }
            var i = a.title.$t
              , l = '<div class="post_title"><a href=' + r + ' title="' + i + '">' + i + "</a></div>";
            if ("category"in a) {
                for (var n = 0; n < a.category.length; n++)
                    var p = a.category[n].term
                      , d = "/search/label/" + p;
                var o = '<span class="label"><a href="' + d + '" title="' + p + '">' + p + "</a></span>"
                  , c = '<span class="post_label"><a href="' + d + '" title="' + p + '">' + p + "</a></span>"
            } else
                o = "",
                c = "";
            var m = '<div class="post_meta">' + c + ('<span class="post_timestamp">' + (a.published.$t.substring(8, 10) + " thag " + a.published.$t.substring(5, 7) + ", " + a.published.$t.substring(0, 4)) + "</span>") + "</div>";
            if ("media$thumbnail"in a)
                var v = '<div class="post_thumb"><a href=' + r + ' title="' + i + '"><img alt="' + i + '" src=' + a.media$thumbnail.url.replace("s72-c", "s1600") + " /></a>" + o + "</div>";
            else
                v = '<div class="post_thumb"><a href=' + r + ' title="' + i + '"><img alt="' + i + '" src=' + thumbnailurl + " /></a>" + c + "</div>";
            if ("summary"in a) {
                var u, f = "";
                if ((u = (u = a.summary.$t).replace(/<\S[^>]*>/g, "")).length < rdp_snippet_length)
                    f = u;
                else {
                    var h = (u = u.substring(0, rdp_snippet_length)).lastIndexOf(" ");
                    f = u = u.substring(0, h)
                }
                var g = '<div class="post_snippet"><p>' + f + "...</p></div>"
            } else
                g = "";
            $(".random_posts").append('<article class="post">' + v + l + m + g + "</article>"),
            $(".random_posts").removeClass("spinner").removeClass("load")
        }
}

function getvalue() {
    for (var t = 0; t < rdp_numposts; t++)
        if (rdp_numposts < rdp_total_posts) {
            for (var r = !1, s = get_random(), p = 0; p < rdp_current.length; p++)
                if (rdp_current[p] == s) {
                    r = !0;
                    break
                }
            r ? t-- : rdp_current[t] = s
        } else
            rdp_numposts = rdp_total_posts
}

for (var i = 0; i < rdp_numposts; i++)
    document.write('<script src="/feeds/posts/summary?alt=json-in-script&start-index=' + rdp_current[i] + '&max-results=1&callback=random_posts"><\/script>');
